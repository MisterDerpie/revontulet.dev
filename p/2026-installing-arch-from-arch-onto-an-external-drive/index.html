<!doctype html><html lang=en-us dir=ltr><head><meta charset=utf-8><meta name=viewport content='width=device-width,initial-scale=1'><meta name=description content="This post walks through how to install Arch Linux from within another Arch Linux onto an external drive. The result is a headless Arch to SSH into. "><meta name=keywords content="Linux,Arch Linux"><title>Installing Arch from Arch onto an External Drive</title><link rel=canonical href=https://revontulet.dev/p/2026-installing-arch-from-arch-onto-an-external-drive/><link rel=stylesheet href=/scss/style.min.6a692fd055deae459f2a9767f57f3855ba80cafd5041317f24f7360f6ca47cdf.css><meta property='og:title' content="Installing Arch from Arch onto an External Drive"><meta property='og:description' content="This post walks through how to install Arch Linux from within another Arch Linux onto an external drive. The result is a headless Arch to SSH into. "><meta property='og:url' content='https://revontulet.dev/p/2026-installing-arch-from-arch-onto-an-external-drive/'><meta property='og:site_name' content='revontulet.dev by Matthias DÃ¶pmann'><meta property='og:type' content='article'><meta property='article:section' content='Post'><meta property='article:tag' content='Arch Linux'><meta property='article:tag' content='Linux'><meta property='article:published_time' content='2026-01-30T10:00:00+00:00'><meta property='article:modified_time' content='2026-01-30T10:00:00+00:00'><meta name=twitter:title content="Installing Arch from Arch onto an External Drive"><meta name=twitter:description content="This post walks through how to install Arch Linux from within another Arch Linux onto an external drive. The result is a headless Arch to SSH into. "><link rel="shortcut icon" href=/favicon.ico><meta author="Matthias DÃ¶pmann"></head><body class=article-page><script>(function(){const e="StackColorScheme";localStorage.getItem(e)||localStorage.setItem(e,"auto")})()</script><script>(function(){const t="StackColorScheme",e=localStorage.getItem(t),n=window.matchMedia("(prefers-color-scheme: dark)").matches===!0;e=="dark"||e==="auto"&&n?document.documentElement.dataset.scheme="dark":document.documentElement.dataset.scheme="light"})()</script><div class="container main-container flex on-phone--column extended"><aside class="sidebar left-sidebar sticky"><button class="hamburger hamburger--spin" type=button id=toggle-menu aria-label="Toggle Menu">
<span class=hamburger-box><span class=hamburger-inner></span></span></button><header><figure class=site-avatar><a href=/><img src=/img/avatar_hu_1a8e49ce50b9ffbc.webp width=300 height=300 class=site-logo loading=lazy alt=Avatar>
</a><span class=emoji>ðŸ‡«ðŸ‡®</span></figure><div class=site-meta><h1 class=site-name><a href=/>revontulet.dev by Matthias DÃ¶pmann</a></h1><h2 class=site-description>A blog about Software Engineering, from the arctic circle. And anything else.</h2></div></header><ol class=menu-social><li><a href=https://github.com/MisterDerpie target=_blank title=GitHub rel=me><svg class="icon icon-tabler icon-tabler-brand-github" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M9 19c-4.3 1.4-4.3-2.5-6-3m12 5v-3.5c0-1 .1-1.4-.5-2 2.8-.3 5.5-1.4 5.5-6a4.6 4.6.0 00-1.3-3.2 4.2 4.2.0 00-.1-3.2s-1.1-.3-3.5 1.3a12.3 12.3.0 00-6.2.0C6.5 2.8 5.4 3.1 5.4 3.1a4.2 4.2.0 00-.1 3.2A4.6 4.6.0 004 9.5c0 4.6 2.7 5.7 5.5 6-.6.6-.6 1.2-.5 2V21"/></svg></a></li><li><a href=https://www.linkedin.com/in/matthias-doepmann/ target=_blank title=LinkedIn rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-brand-linkedin"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M8 11v5"/><path d="M8 8v.01"/><path d="M12 16v-5"/><path d="M16 16v-3a2 2 0 10-4 0"/><path d="M3 7a4 4 0 014-4h10a4 4 0 014 4v10a4 4 0 01-4 4H7a4 4 0 01-4-4z"/></svg></a></li><li><a href=https://revontulet.dev/index.xml title=RSS rel=me><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-rss"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M5 19m-1 0a1 1 0 102 0 1 1 0 10-2 0"/><path d="M4 4a16 16 0 0116 16"/><path d="M4 11a9 9 0 019 9"/></svg></a></li></ol><ol class=menu id=main-menu><li><a href=/><svg class="icon icon-tabler icon-tabler-home" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><polyline points="5 12 3 12 12 3 21 12 19 12"/><path d="M5 12v7a2 2 0 002 2h10a2 2 0 002-2v-7"/><path d="M9 21v-6a2 2 0 012-2h2a2 2 0 012 2v6"/></svg>
<span>Home</span></a></li><li><a href=/cv/><svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="icon icon-tabler icons-tabler-outline icon-tabler-file-cv"><path stroke="none" d="M0 0h24v24H0z" fill="none"/><path d="M14 3v4a1 1 0 001 1h4"/><path d="M17 21H7a2 2 0 01-2-2V5a2 2 0 012-2h7l5 5v11a2 2 0 01-2 2z"/><path d="M11 12.5a1.5 1.5.0 00-3 0v3a1.5 1.5.0 003 0"/><path d="M13 11l1.5 6 1.5-6"/></svg>
<span>About Me</span></a></li><li><a href=/archives/><svg class="icon icon-tabler icon-tabler-archive" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><rect x="3" y="4" width="18" height="4" rx="2"/><path d="M5 8v10a2 2 0 002 2h10a2 2 0 002-2V8"/><line x1="10" y1="12" x2="14" y2="12"/></svg>
<span>Archives</span></a></li><li><a href=/search/><svg class="icon icon-tabler icon-tabler-search" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="10" cy="10" r="7"/><line x1="21" y1="21" x2="15" y2="15"/></svg>
<span>Search</span></a></li><li class=menu-bottom-section><ol class=menu><li id=dark-mode-toggle><svg class="icon icon-tabler icon-tabler-toggle-left" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="8" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<svg class="icon icon-tabler icon-tabler-toggle-right" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="16" cy="12" r="2"/><rect x="2" y="6" width="20" height="12" rx="6"/></svg>
<span>Dark Mode</span></li></ol></li></ol></aside><aside class="sidebar right-sidebar sticky"><section class="widget archives"><div class=widget-icon><svg class="icon icon-tabler icon-tabler-hash" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><line x1="5" y1="9" x2="19" y2="9"/><line x1="5" y1="15" x2="19" y2="15"/><line x1="11" y1="4" x2="7" y2="20"/><line x1="17" y1="4" x2="13" y2="20"/></svg></div><h2 class="widget-title section-title">Table of contents</h2><div class=widget--toc><nav id=TableOfContents><ol><li><a href=#installing-arch>Installing Arch</a><ol><li><a href=#semi-automated-script>Semi-Automated Script</a></li><li><a href=#prerequisites>Prerequisites</a></li><li><a href=#partitioning-and-formatting>Partitioning and Formatting</a><ol><li><a href=#partitioning>Partitioning</a></li><li><a href=#formatting>Formatting</a></li></ol></li><li><a href=#installing-the-kernel-and-arch-linux>Installing the Kernel and Arch Linux</a><ol><li><a href=#mounting-the-file-systems>Mounting the File Systems</a></li><li><a href=#installing-arch-and-the-linux-kernel>Installing Arch and the Linux Kernel</a></li></ol></li><li><a href=#make-arch-go-boot>Make Arch go Boot</a><ol><li><a href=#creating-the-fstab>Creating the fstab</a></li><li><a href=#minimal-system-configuration>Minimal System Configuration</a></li><li><a href=#installing-the-booatloader>Installing the Booatloader</a></li></ol></li><li><a href=#make-arch-go-network>Make Arch go Network</a><ol><li><a href=#network-setup>Network Setup</a></li><li><a href=#enabling-ssh>Enabling SSH</a></li></ol></li></ol></li></ol></nav></div></section></aside><main class="main full-width"><article class=main-article><header class=article-header><div class=article-details><header class=article-category><a href=/categories/tech/ style=background-color:#01efac;color:#000>Tech</a></header><div class=article-title-wrapper><h2 class=article-title><a href=/p/2026-installing-arch-from-arch-onto-an-external-drive/>Installing Arch from Arch onto an External Drive</a></h2><h3 class=article-subtitle>This post walks through how to install Arch Linux from within another Arch Linux onto an external drive. The result is a headless Arch to SSH into.</h3></div><footer class=article-time><div><svg class="icon icon-tabler icon-tabler-calendar-time" width="56" height="56" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><path d="M11.795 21H5a2 2 0 01-2-2V7a2 2 0 012-2h12a2 2 0 012 2v4"/><circle cx="18" cy="18" r="4"/><path d="M15 3v4"/><path d="M7 3v4"/><path d="M3 11h16"/><path d="M18 16.496V18l1 1"/></svg>
<time class=article-time--published>Jan 30, 2026</time></div><div><svg class="icon icon-tabler icon-tabler-clock" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><polyline points="12 7 12 12 15 15"/></svg>
<time class=article-time--reading>11 minute read</time></div></footer></div></header><section class=article-content><p>To install Arch Linux, the most common and easiest way is booting it up from an installation media.
This may not be an option, and instead we want to install it straight onto a drive.
The Arch Wiki provides a guide to <a class=link href=https://wiki.archlinux.org/title/Install_Arch_Linux_from_existing_Linux target=_blank rel=noopener>Install Arch Linux from existing Linux</a>, but it took a while to get all pieces right.
Consider this post to aim for a more noob-friendly and handholding setup on how to <em>install Arch from Arch</em>.
For readability, only hyperlinks not referring to <a class=link href=wiki.archlinux.org>wiki.archlinux.org</a> are marked with their source in brackets.</p><h1 id=motivation>Motivation</h1><p>The first month of 2026 is already over, how time flies!
But that also means one thing: Time for new projects!
For starters, I needed Arch Linux as a headless distro for a computer that should become a server.
Naturally, said machine does not have any peripherals, except a LAN cable that connects it to the router.
Therefore, the need to <em>install Arch from Arch</em> was there.
I&rsquo;ve installed Arch plenty of times from a bootable media,
and when <a class=link href=https://wiki.archlinux.org/title/Archinstall target=_blank rel=noopener>archinstall</a> came around that was even easier.
Yet, for the first time, I had to install and configure it non-interactive.</p><h2 id=installing-arch>Installing Arch</h2><p><strong>Important:</strong>
All commands here are executed as the superuser.
Either run them with <code>sudo</code> or first run <code>su</code>, and then execute them.</p><p>Each section starts with a bullet point, referring to the page in the official Arch Wiki guide, that may be consulted for additional readup.</p><hr><h3 id=semi-automated-script>Semi-Automated Script</h3><p>The steps from the next parts are all semi-automated and can be downloaded from this post</p><ul><li><a class=link href=./install-requirements.sh>install-requirements.sh</a></li><li><a class=link href=./chroot-install.sh>chroot-install.sh</a>.</li></ul><p>You may want to adjust the parts in <em>chroot-install.sh</em> for your timezone and keyboard layout.
Start the install script as superuser (NOT as <code>sudo</code>)</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>chmod a+x ./install-requirements.sh
</span></span><span class=line><span class=cl>chmod a+x ./chroot-install.sh
</span></span><span class=line><span class=cl>su
</span></span></code></pre></td></tr></table></div></div><p>Once you entered the password, start the installer by</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>./install-requirements.sh
</span></span></code></pre></td></tr></table></div></div><hr><h3 id=prerequisites>Prerequisites</h3><p>A host system that runs Arch, a target drive that we install Arch on, and two packages.
The first is the <em>arch-install-scripts</em>, which contains <em>pacstrap</em>.
Second is <em>dosfstools</em>, used to create FAT32 partitions.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>pacman</span> <span class=o>-</span><span class=n>Sy</span> <span class=n>arch</span><span class=o>-</span><span class=n>install</span><span class=o>-</span><span class=n>scripts</span> <span class=n>dosfstools</span>
</span></span></code></pre></td></tr></table></div></div><p>We&rsquo;re assuming that the target machine supports UEFI, not BIOS.</p><h3 id=partitioning-and-formatting>Partitioning and Formatting</h3><h4 id=partitioning>Partitioning</h4><ul><li><a class=link href=https://wiki.archlinux.org/title/Installation_guide#Partition_the_disks target=_blank rel=noopener>Partition the disks</a></li></ul><p>Before we&rsquo;re able to meaningfully interact with our drive, we need to partition it.
That is, create separated logical spaces on the underlying drive for where to place data.
Essentially, at least two partitions are required.</p><ol><li>The <code>boot</code> partition, which contains information for the machine to load on start, of type <code>fat32</code></li><li>The <code>system</code> partition, where the whole OS lives, of type <code>ext4</code></li></ol><p>For years I also used to create a <a class=link href=https://wiki.archlinux.org/title/Swap target=_blank rel=noopener>Swap</a> partition.
It seems that nowadays Swap is really not a thing anymore.</p><p>To partition, we&rsquo;re using <a class=link href=https://wiki.archlinux.org/title/Fdisk target=_blank rel=noopener>fdisk</a>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>fdisk -l 
</span></span></code></pre></td></tr></table></div></div><p>Search for the correct drive in the output (last mention: make sure you ran as superuser, otherwise you see access errors).</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>Disk /dev/sda: 931.51 GiB, 1000204886016 bytes, 1953525168 sectors
</span></span><span class=line><span class=cl>Disk model:  SN7100 1TB     
</span></span></code></pre></td></tr></table></div></div><p>In my case, that is <code>/dev/sda</code>, as I can tell from the disk model.
Next, we use <em>fdisk</em> to partiton the disk.
Replace the <em>X</em> with the letter of your drive, in my case, that would be <em>a</em>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>fdisk /dev/sdX
</span></span></code></pre></td></tr></table></div></div><p>For brevity, the commands we execute in order are listed in bullet points.</p><ul><li><code>g</code> - Create a new GPT partition table</li><li><code>n</code> - Create a new partition<ul><li><code>Partition number</code> can be left to default (just hit <em>return</em>)</li><li><code>First sector</code> can be left to default (just hit <em>return</em>)</li><li><code>Last sector</code> should be set to <code>+1G</code>, which sets &ldquo;Last Sector = First Sector + 1 GB&rdquo;</li><li>In case fdisk asks about a signature, select &ldquo;Yes&rdquo; to remove it.</li></ul></li></ul><p>We once again create a new partition, this time leaving the last sector empty.</p><ul><li><code>n</code> - Create a new partition<ul><li><code>Partition number</code> can be left to default (just hit &ldquo;return&rdquo;)</li><li><code>First sector</code> can be left to default (just hit &ldquo;return&rdquo;)</li><li><code>Last sector</code> <strong>leave it empty</strong>, the partition will then be the remaining size of the drive.</li></ul></li></ul><p>Last but not least, we need to write the partition layout onto the drive.
<strong>Note:</strong> This step is (more or less) irreversible, so double check you got the right drive..</p><ul><li><code>w</code> - Write the created partition layout and exit fdisk.</li></ul><h4 id=formatting>Formatting</h4><ul><li><a class=link href=https://wiki.archlinux.org/title/Installation_guide#Format_the_partitions target=_blank rel=noopener>Format the Partitions</a></li></ul><p>Partitions itself are merely a unit of space separation, and don&rsquo;t provide any additional information about data stored on them.
The abstraction to do so are <a class=link href=https://wiki.archlinux.org/title/File_systems target=_blank rel=noopener>filesystems</a>.
For the boot partition, that must be <a class=link href=https://wiki.archlinux.org/title/FAT target=_blank rel=noopener>FAT32</a>,
whereas for the system partition, we choose <a class=link href=https://wiki.archlinux.org/title/Ext4 target=_blank rel=noopener>ext4</a>.</p><p>My drive was at <code>/dev/sda</code>, thus my boot partition now is <code>/dev/sda1</code> and the system partition is <code>/dev/sda2</code>.
Replace the <code>X</code> with the letter of your drive, in my case that would be <code>a</code>.</p><p><strong>Note:</strong> In case the fat formatting command is not found, run <code>pacman -S dosfstools</code> to install it.</p><ol><li><code>mkfs.fat -F 32 /dev/sdX1</code>, creates a <em>FAT32</em> file system on the boot partition</li><li><code>mkfs.ext4 /dev/sdX2</code>, creates an <em>ext4</em> file system on the boot partition</li></ol><p>We can verify that this works by running <code>fdisk -l</code> again.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt> 1
</span><span class=lnt> 2
</span><span class=lnt> 3
</span><span class=lnt> 4
</span><span class=lnt> 5
</span><span class=lnt> 6
</span><span class=lnt> 7
</span><span class=lnt> 8
</span><span class=lnt> 9
</span><span class=lnt>10
</span><span class=lnt>11
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>Disk /dev/sda: 931.51 GiB, 1000204886016 bytes, 1953525168 sectors
</span></span><span class=line><span class=cl>Disk model:  SN7100 1TB     
</span></span><span class=line><span class=cl>Units: sectors of 1 * 512 = 512 bytes
</span></span><span class=line><span class=cl>Sector size (logical/physical): 512 bytes / 512 bytes
</span></span><span class=line><span class=cl>I/O size (minimum/optimal): 512 bytes / 33553920 bytes
</span></span><span class=line><span class=cl>Disklabel type: gpt
</span></span><span class=line><span class=cl>Disk identifier: ...
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>Device       Start        End    Sectors   Size Type
</span></span><span class=line><span class=cl>/dev/sda1     2048    2099199    2097152     1G Linux filesystem
</span></span><span class=line><span class=cl>/dev/sda2  2099200 1953523711 1951424512 930.5G Linux filesystem
</span></span></code></pre></td></tr></table></div></div><h3 id=installing-the-kernel-and-arch-linux>Installing the Kernel and Arch Linux</h3><ul><li><a class=link href=https://wiki.archlinux.org/title/Installation_guide#Mount_the_file_systems target=_blank rel=noopener>Mount the File Systems</a></li><li><a class=link href=https://wiki.archlinux.org/title/Installation_guide#Install_essential_packages target=_blank rel=noopener>Install Essential Packages</a></li></ul><h4 id=mounting-the-file-systems>Mounting the File Systems</h4><p>Before we can proceed, we first need to mount our previously created boot and system partition.
Otherwise, there would be no way to write data to it, as the disk is physically there, but the filesystem is not &ldquo;connected&rdquo;.</p><p>We are using the <code>/mnt/boot</code> directory for the boot partition, and <code>/mnt</code> for the system.
Replace the <code>X</code> with the letter of your drive, in my case that would be <code>a</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>mount /dev/sdX2 /mnt
</span></span><span class=line><span class=cl>mount --mkdir /dev/sdX1 /mnt/boot
</span></span></code></pre></td></tr></table></div></div><h4 id=installing-arch-and-the-linux-kernel>Installing Arch and the Linux Kernel</h4><p>Essentially, three packages are needed to get a more or less running system.</p><ul><li><code>base</code> - This could simply be called &ldquo;Arch Linux&rdquo;, as in the core programs, configurations and libraries that make up Arch</li><li><code>linux</code> - A piece of notorious email threads, the <a class=link href=https://wiki.archlinux.org/title/Kernel target=_blank rel=noopener>Linux Kernel</a></li><li><code>linux-firmware</code> - <a class=link href=https://wiki.archlinux.org/title/Linux_firmware target=_blank rel=noopener>Linux Firmware</a> contains the firmware for hardware like the GPU</li></ul><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pacstrap -K /mnt base linux linux-firmware
</span></span></code></pre></td></tr></table></div></div><p>Congratulations.
At this point, on your partition <code>sdX2</code>, you have a fully functioning Arch Linux.
If you were to plug your drive into another machine now, it would not boot up though &mldr;
To get closer to a boot, install the <a class=link href=https://wiki.archlinux.org/title/Microcode target=_blank rel=noopener>Microcode</a> for your processor.</p><ul><li><code>pacstrap -K /mnt intel-ucode</code>, if the target computer has an Intel CPU</li><li><code>pacstrap -K /mnt amd-ucode</code>, if the target computer has an AMD CPU</li></ul><h3 id=make-arch-go-boot>Make Arch go Boot</h3><ul><li><a class=link href=https://wiki.archlinux.org/title/Installation_guide#Configure_the_system target=_blank rel=noopener>Configure the System</a></li></ul><h4 id=creating-the-fstab>Creating the fstab</h4><p><strong>Note</strong>: In this chapter, we must be truly superuser.
Running <em>sudo</em> won&rsquo;t do, so please run <code>su</code> now, if you did not yet.</p><p>The first thing we need to do is to create an <a class=link href=https://wiki.archlinux.org/title/Fstab target=_blank rel=noopener>fstab</a> file.
Simply put, the <em>fstab</em> file defines how our system is supposed to mount (read: connect) the partitions on our drive.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>genfstab -U /mnt &gt;&gt; /mnt/etc/fstab
</span></span></code></pre></td></tr></table></div></div><p>We can inspect the contents of the file by running <code>cat /mnt/etc/fstab</code> - it should contain our entries.</p><h4 id=minimal-system-configuration>Minimal System Configuration</h4><p>We need to perform a <a class=link href=https://wiki.archlinux.org/title/Chroot target=_blank rel=noopener>chroot</a> into the Arch drive.
Chroot is, in simple terms, to make the root believe that its entire world is only the new Arch installation, and the host system does not exist.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>arch-chroot /mnt
</span></span></code></pre></td></tr></table></div></div><p><a class=link href=https://wiki.archlinux.org/title/Vim target=_blank rel=noopener>Vim</a>,
<a class=link href=https://wiki.archlinux.org/title/Emacs target=_blank rel=noopener>Emacs</a> or
<a class=link href=https://wiki.archlinux.org/title/Nano target=_blank rel=noopener>Nano</a> are not installed by default in Arch.
Having a text editor makes the life a lot easier, and this guide needs one, so install it via <em>pacman</em>.
As a Vim user, I install Vim, and the next commands are provided for Vim.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pacman -S vim
</span></span></code></pre></td></tr></table></div></div><p>Setting up time and locale is following precisely the steps from
<a class=link href=https://wiki.archlinux.org/title/Installation_guide#Time target=_blank rel=noopener>3.3 Time</a> and
<a class=link href=https://wiki.archlinux.org/title/Installation_guide#Localization target=_blank rel=noopener>3.4. Localization</a>,
so I will not copy them here.</p><p>Next, we set a hostname for the machine.
This will be the name shown e.g. on the router.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>vim /etc/hostname
</span></span></code></pre></td></tr></table></div></div><p>Last but not least, we should set a root password.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>passwd
</span></span></code></pre></td></tr></table></div></div><h4 id=installing-the-booatloader>Installing the Booatloader</h4><ul><li><a class=link href=https://wiki.archlinux.org/title/Arch_boot_process#Boot_loader target=_blank rel=noopener>Boot Loader</a></li><li><a class=link href=https://wiki.archlinux.org/title/Systemd-boot target=_blank rel=noopener>systemd-boot</a></li></ul><p><strong>Important:</strong> This needs to be in the <em>arch-chroot</em> environment.</p><p>At this point, the Arch Wiki is our friend to understand what the boot loader is and how it works.
In most simple terms, the first software started after/by the UEFI/BIOS is the boot loader.
The boot loader then takes care of starting Linux.</p><p>We are using <em>systemd-boot</em> for no specific reason, except some (very little) familiarity from using it on my machine.
It also comes as part of the <em>base</em> package, so we have it at our disposal already.
For a server, the <a class=link href=https://wiki.archlinux.org/title/EFI_boot_stub target=_blank rel=noopener>EFI boot stub</a> might be a better choice.</p><p>To set up <em>systemd-boot</em>, run</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>bootctl install
</span></span></code></pre></td></tr></table></div></div><p>Here we are diverging from the steps in <a class=link href=https://wiki.archlinux.org/title/Systemd-boot#Installing_the_UEFI_boot_manager target=_blank rel=noopener>Installing the UEFI Boot Manager</a>.
Per my understanding, in <code>/boot/loader/entries</code>, it should contain entries after this command.
However, this folder is empty for me.
If it is not for you, congratulations, and you can likely skip the setup of the Loader Conf and Entry creation.
In case it is, time to artisanal craft the entries.
Credits to
<a class=link href=https://www.tsunderechen.io/2020/05/archlinux-systemd-boot-installation/ target=_blank rel=noopener>Use systemd-boot instead of grub in Arch Linux (tsunderechen.io)</a>,
who&rsquo;s blog post we&rsquo;re following.</p><h5 id=creating-the-loader-conf>Creating the Loader Conf</h5><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vim /boot/loader/loader.conf
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-gdscript3 data-lang=gdscript3><span class=line><span class=cl><span class=n>default</span> <span class=n>arch</span>    <span class=c1># match the filename of the entry</span>
</span></span><span class=line><span class=cl><span class=n>timeout</span> <span class=mi>5</span>       <span class=c1># the timeout before loading the entry</span>
</span></span></code></pre></td></tr></table></div></div><h5 id=creating-the-boot-entry>Creating the Boot Entry</h5><p>Creating the boot entry requires to know the UUID of the partition to load/start Linux from/on.
In our case, that would be <code>/dev/sdX2</code>, where <em>X</em> is the letter and 2 is the system partition.
We can obtain the partition UUID running</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>blkid
</span></span><span class=line><span class=cl>...
</span></span><span class=line><span class=cl>/dev/sdX1: UUID=&#34;B1E2-1651&#34; BLOCK_SIZE=&#34;512&#34; TYPE=&#34;vfat&#34; PARTUUID=&#34;137c774b-a0a8-4853-99fc-a40914e49792&#34;
</span></span><span class=line><span class=cl>/dev/sdX2: UUID=&#34;5d1a6140-013b-4b3d-8ebd-6175ddb5c12f&#34; BLOCK_SIZE=&#34;4096&#34; TYPE=&#34;ext4&#34; PARTUUID=&#34;4104fcf9-e1df-4b7f-b19b-c5b0dd6efef3&#34;
</span></span></code></pre></td></tr></table></div></div><p>After locating our partition, we create an entry <code>arch.conf</code> with our partition UUID.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>vim /boot/loader/entries/arch.conf
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>title  Arch Linux
</span></span><span class=line><span class=cl>linux  /vmlinuz-linux
</span></span><span class=line><span class=cl>initrd /intel-ucode.img # IMPORTANT: If you use amd, this must be amd-ucode.img
</span></span><span class=line><span class=cl>initrd /initramfs-linux.img
</span></span><span class=line><span class=cl>options root=PARTUUID=&lt;PUT-PARTUUID-HERE&gt; rw
</span></span></code></pre></td></tr></table></div></div><p>In my case, the options line should look like this:</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>options root=PARTUUID=4104fcf9-e1df-4b7f-b19b-c5b0dd6efef3 rw
</span></span></code></pre></td></tr></table></div></div><p>That&rsquo;s it!
If we were to plug our drive into another computer now, it would boot!</p><h3 id=make-arch-go-network>Make Arch go Network</h3><p>A server that cannot connect to a network is fairly useless.
The last step of this guide is to set up the network connection.</p><p><strong>Important:</strong> This needs to be in the <em>arch-chroot</em> environment.</p><h4 id=network-setup>Network Setup</h4><ul><li><a class=link href=https://wiki.archlinux.org/title/Network_configuration target=_blank rel=noopener>Network Configuration</a></li></ul><p>We&rsquo;ve read <em>systemd</em> a couple of times now, and to no one&rsquo;s surprise, the network can also be managed with <em>systemd</em>.
Arch Linux ships with
<a class=link href=https://wiki.archlinux.org/title/Systemd-networkd target=_blank rel=noopener>systemd-networkd</a> and
<a class=link href=https://wiki.archlinux.org/title/Systemd-resolved target=_blank rel=noopener>systemd-resolved</a>.
<em>systemd-networkd</em> takes care of getting our network connection over IP sorted, whereas <em>systemd-resolved</em> handles DNS.
This guide only covers the Ethernet connection, so please consult the page for <em>systemd-networkd</em> if you require wireless.</p><p>A set of preconfigurations is provided in Arch.
To enable the ethernet connection, we can create a symlink, as <em>systemd-networkd</em> adheres to the configs we provide in <code>/etc/systemd/network/</code>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>ln -s /usr/lib/systemd/network/89-ethernet.network.example /etc/systemd/network/89-ethernet.network
</span></span></code></pre></td></tr></table></div></div><p>Configuration done, last but not least we need to start the services on boot.
To do so, we enable <a class=link href=https://wiki.archlinux.org/title/Help:Reading#Control_of_systemd_units target=_blank rel=noopener>systemd units</a> using <em>systemctl</em>.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>systemctl enable systemd-networkd.service
</span></span><span class=line><span class=cl>systemctl enable systemd-resolved.service
</span></span></code></pre></td></tr></table></div></div><p>&mldr; as this is for a server, it is advised to configure the <a class=link href=https://wiki.archlinux.org/title/Systemd-networkd#Wired_adapter_using_a_static_IP target=_blank rel=noopener>Wired adatper using a static IP</a>.
We can do so by creating a configuration <em>20-wired.network</em>.
In my case, the router&rsquo;s subnetwork is based off of the 24-bit prefix <code>192.168.8.XYZ</code>.
If the current host is in the same network as the server will be, using <code>ip route</code> can tell what the gateway and prefix is.
Otherwise, it needs to be configured for the (potentially different) target network.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>vim /etc/systemd/network/20-wired.network
</span></span></code></pre></td></tr></table></div></div><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span><span class=lnt>3
</span><span class=lnt>4
</span><span class=lnt>5
</span><span class=lnt>6
</span><span class=lnt>7
</span><span class=lnt>8
</span><span class=lnt>9
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>[Match]
</span></span><span class=line><span class=cl>Kind=!*
</span></span><span class=line><span class=cl>Type=ether
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>[Network]
</span></span><span class=line><span class=cl>Address=192.168.8.100/24
</span></span><span class=line><span class=cl>Gateway=192.168.8.1
</span></span><span class=line><span class=cl>DNS=9.9.9.9
</span></span><span class=line><span class=cl>DNS=8.8.8.8
</span></span></code></pre></td></tr></table></div></div><h4 id=enabling-ssh>Enabling SSH</h4><ul><li><a class=link href=https://wiki.archlinux.org/title/OpenSSH target=_blank rel=noopener>OpenSSH</a></li><li><a class=link href=https://wiki.archlinux.org/title/Users_and_groups target=_blank rel=noopener>Users and Groups</a></li></ul><p>A server unable to connect to serves little to no value.
That&rsquo;s where SSH comes to the rescue.
Within our chroot, install <em>OpenSSH</em>, and enable the SSH Daemon.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>pacman -S openssh
</span></span><span class=line><span class=cl>systemctl enable sshd.service
</span></span></code></pre></td></tr></table></div></div><p>That&rsquo;s already it.</p><p><strong>Important:</strong> This is by no means a secure setup.
Do not make your server accessible from the internet without actually knowing what you are doing.
This guide covers no security concerns and is solely meant for use in an internal network.</p><p>Final step:
Unless we allow login as root, we need to create a user.</p><div class=highlight><div class=chroma><table class=lntable><tr><td class=lntd><pre tabindex=0 class=chroma><code><span class=lnt>1
</span><span class=lnt>2
</span></code></pre></td><td class=lntd><pre tabindex=0 class=chroma><code class=language-fallback data-lang=fallback><span class=line><span class=cl>useradd -m my-user-name
</span></span><span class=line><span class=cl>passwd my-user-name
</span></span></code></pre></td></tr></table></div></div><h1 id=closing-remarks>Closing Remarks</h1><p>Installing Arch gets easier over time, and is always an interesting exercise with learnings.
This was probably the first time I actually read the articles in the Arch Wiki.
My sincere recommendation to read them, they offer a great introduction into understanding how Linux works.</p></section><footer class=article-footer><section class=article-tags><a href=/tags/arch-linux/>Arch Linux</a>
<a href=/tags/linux/>Linux</a></section><section class=article-copyright><svg class="icon icon-tabler icon-tabler-copyright" width="24" height="24" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round"><path stroke="none" d="M0 0h24v24H0z"/><circle cx="12" cy="12" r="9"/><path d="M14.5 9a3.5 4 0 100 6"/></svg>
<span>Licensed under CC BY-NC-SA 4.0</span></section></footer></article><aside class=related-content--wrapper><h2 class=section-title>Related content</h2><div class=related-content><div class="flex article-list--tile"><article><a href=/p/2025-wayland-sway-nvidia-dlss-unreal-engine-and-ghosting/><div class=article-details><h2 class=article-title>Wayland, Sway, Nvidia DLSS, Unreal Engine and Ghosting</h2></div></a></article><article><a href=/p/2025-arch-and-i3-hello-sway-install-arch-and-sway/><div class=article-details><h2 class=article-title>Arch and i3 - Hello, Sway! - Install Arch and Sway</h2></div></a></article><article><a href=/p/2025-iphone-ethernet-bridge-rpi-4-ubuntu/><div class=article-details><h2 class=article-title>iPhone Ethernet bridge on RaspberryPi with Ubuntu Server</h2></div></a></article><article><a href=/p/2021-ubuntu-gui-wsl2/><div class=article-details><h2 class=article-title>Ubuntu with WSL2 and i3 Window Manager GUI</h2></div></a></article><article><a href=/p/2021-lenovo-legion-ubuntu/><div class=article-details><h2 class=article-title>Ubuntu and i3 on Lenovo Legion 5 Pro</h2></div></a></article></div></div></aside><footer class=site-footer><section class=copyright>&copy;
2025 -
2026 revontulet.dev by Matthias DÃ¶pmann</section><section class=powerby>Built with <a href=https://gohugo.io/ target=_blank rel=noopener>Hugo</a><br>Theme <b><a href=https://github.com/CaiJimmy/hugo-theme-stack target=_blank rel=noopener data-version=3.30.0>Stack</a></b> designed by <a href=https://jimmycai.com target=_blank rel=noopener>Jimmy</a></section></footer><div class=pswp tabindex=-1 role=dialog aria-hidden=true><div class=pswp__bg></div><div class=pswp__scroll-wrap><div class=pswp__container><div class=pswp__item></div><div class=pswp__item></div><div class=pswp__item></div></div><div class="pswp__ui pswp__ui--hidden"><div class=pswp__top-bar><div class=pswp__counter></div><button class="pswp__button pswp__button--close" title="Close (Esc)"></button>
<button class="pswp__button pswp__button--share" title=Share></button>
<button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>
<button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button><div class=pswp__preloader><div class=pswp__preloader__icn><div class=pswp__preloader__cut><div class=pswp__preloader__donut></div></div></div></div></div><div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap"><div class=pswp__share-tooltip></div></div><button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
</button>
<button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)"></button><div class=pswp__caption><div class=pswp__caption__center></div></div></div></div></div><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.js integrity="sha256-ePwmChbbvXbsO02lbM3HoHbSHTHFAeChekF1xKJdleo=" crossorigin=anonymous defer></script><script src=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe-ui-default.min.js integrity="sha256-UKkzOn/w1mBxRmLLGrSeyB4e1xbrp4xylgAWb3M42pU=" crossorigin=anonymous defer></script><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/default-skin/default-skin.min.css crossorigin=anonymous><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/photoswipe@4.1.3/dist/photoswipe.min.css crossorigin=anonymous></main></div><script src=https://cdn.jsdelivr.net/npm/node-vibrant@3.1.6/dist/vibrant.min.js integrity="sha256-awcR2jno4kI5X0zL8ex0vi2z+KMkF24hUW8WePSA9HM=" crossorigin=anonymous></script><script type=text/javascript src=/ts/main.1e9a3bafd846ced4c345d084b355fb8c7bae75701c338f8a1f8a82c780137826.js defer></script><script>(function(){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400;700&display=swap",e.type="text/css",e.rel="stylesheet",document.head.appendChild(e)})()</script><script defer src=https://static.cloudflareinsights.com/beacon.min.js data-cf-beacon='{"token": "ab26ba39e87544c98ce4711525f9a8b8"}'></script></body></html>